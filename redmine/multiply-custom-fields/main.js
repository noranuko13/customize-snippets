!function n(i,s,o){function u(e,t){if(!s[e]){if(!i[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(a)return a(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=s[e]={exports:{}},i[e][0].call(r.exports,function(t){return u(i[e][1][t]||t)},r,r.exports,n,i,s,o)}return s[e].exports}for(var a="function"==typeof require&&require,t=0;t<o.length;t++)u(o[t]);return u}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../shared/issues");{const i={key:"mcf",nameKey:"＊",calc:t=>t.reduce((t,e)=>t*e,1)};new n.Formula(i).execute(),(new n.Property).div().addEventListener("change",t=>{const e=t.target;t=new n.Formula(i);t.factors().some(t=>t.input().isEqualNode(e))&&t.execute(),(new n.Property).tracker().select().isEqualNode(e)&&setTimeout(()=>new n.Formula(i).execute(),700)})}},{"../shared/issues":9}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flashBg=void 0;r.flashBg=t=>{t.forEach(t=>{t.animate({background:["#b3d9ff","#7fbfff","#b3d9ff"],easing:"ease-out"},{fill:"forwards",duration:400})})}},{}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DueDateAttr=void 0;r.DueDateAttr=class{constructor(t){this._p=t.querySelector("p:has(> #issue_due_date)")}p(){return this._p}input(){return this._p.querySelector("input")}}},{}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TrackerAttr=r.IntAttr=r.DueDateAttr=void 0;var n=t("./due-date-attr"),i=(Object.defineProperty(r,"DueDateAttr",{enumerable:!0,get:function(){return n.DueDateAttr}}),t("./int-attr")),s=(Object.defineProperty(r,"IntAttr",{enumerable:!0,get:function(){return i.IntAttr}}),t("./tracker-attr"));Object.defineProperty(r,"TrackerAttr",{enumerable:!0,get:function(){return s.TrackerAttr}})},{"./due-date-attr":3,"./int-attr":5,"./tracker-attr":6}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntAttr=void 0;r.IntAttr=class{constructor(t){this._p=t}p(){return this._p}name(){var t=(this._p.querySelector("label span.field-description")||this._p.querySelector("label span"))?.textContent||"";return""===t&&console.warn("属性名が取得できませんでした",this._p),t}input(){return this._p.querySelector("input")}}},{}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TrackerAttr=void 0;r.TrackerAttr=class{constructor(t){this._p=t.querySelector("p:has(> #issue_tracker_id)")}select(){return this._p.querySelector("select")}}},{}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Formula=void 0;const n=t("../../animates"),i=t("../../sanitizers"),s=t("../property");r.Formula=class{constructor(t){this.option=t,this.intAttrs=(new s.Property).intCustomFields(),this.decorate(),this.normalize()}execute(){var t=this.factors().map(t=>Number(t.input().value));this.result().input().value=this.option.calc(t).toString(),(0,n.flashBg)(this.targets().map(t=>t.p()))}factors(){const e=new RegExp(this.option.nameKey+"$");return this.intAttrs.filter(t=>e.test(t.name()))}result(){const e=new RegExp(`［${this.option.nameKey}］$`);var t=this.intAttrs.filter(t=>e.test(t.name()));if(1!==t.length)throw console.error(`［${this.option.nameKey}］が複数設定されています`,t),new ReferenceError;return t[0]}targets(){return[...this.factors(),this.result()]}decorate(){this.targets().forEach(t=>{t.p().classList.add(`cs-${this.option.key}-target`)}),this.result().input().readOnly=!0,this.result().input().classList.add(`cs-${this.option.key}-effect`)}normalize(){var t=this.factors().map(t=>t.input());(0,i.sanitizeWithOne)(t)}}},{"../../animates":2,"../../sanitizers":11,"../property":10}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Formula=void 0;var n=t("./formula");Object.defineProperty(r,"Formula",{enumerable:!0,get:function(){return n.Formula}})},{"./formula":7}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Property=r.Formula=r.TrackerAttr=r.IntAttr=void 0;var n=t("./attrs"),i=(Object.defineProperty(r,"IntAttr",{enumerable:!0,get:function(){return n.IntAttr}}),Object.defineProperty(r,"TrackerAttr",{enumerable:!0,get:function(){return n.TrackerAttr}}),t("./concepts")),s=(Object.defineProperty(r,"Formula",{enumerable:!0,get:function(){return i.Formula}}),t("./property"));Object.defineProperty(r,"Property",{enumerable:!0,get:function(){return s.Property}})},{"./attrs":4,"./concepts":8,"./property":10}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Property=void 0;const n=t("./attrs");r.Property=class{constructor(){this._div=document.querySelector("div#all_attributes")}div(){return this._div}tracker(){return new n.TrackerAttr(this._div)}dueDate(){return new n.DueDateAttr(this._div)}intCustomFields(){var t=this._div.querySelectorAll("p:has(> .int_cf)");return Array.from(t).map(t=>new n.IntAttr(t))}}},{"./attrs":4}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sanitizeWithOne=void 0;r.sanitizeWithOne=t=>{t.map(t=>{n(t.value)||(t.value="1")})};const n=t=>/^-?([1-9]\d*|0)$/.test(t)},{}]},{},[1]);